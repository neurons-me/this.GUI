# GuiProvider
	•	Introduction & Features
	•	API table with props and context values
	•	Usage example with useThemeContext
	•	Notes on CSS vars, insets, and theme toggling
## Introduction
`GuiProvider` is a React context provider component that extends Material-UI's (`@mui/material`) `ThemeProvider` with custom logic to manage themes. 
It provides a centralized way to handle theme persistence, dynamic insets for layout adjustments, and theme toggling with support for multiple theme variants.
This component is designed to simplify theming in complex applications by combining theme state management, localStorage persistence, and CSS variable synchronization.

## Features
- **Theme Persistence:** Automatically saves and loads the last selected theme using `localStorage`.
- **Insets Management:** Manages layout insets (left, right, navigation bar height) with synchronization to CSS variables for consistent styling.
- **Multi-Variant Theme Support:** Supports multiple themes beyond simple light/dark modes.
- **Theme Toggling:** Provides a toggle function to cycle through available themes or set a specific theme.
- **Integration with MUI Theme:** Injects custom layout insets and update callbacks into the MUI theme object for seamless access via `useTheme()`.

## API
### `GuiProvider`

#### Props

<table>
  <thead>
    <tr>
      <th style="text-align:left;">Name</th>
      <th style="text-align:left;">Type</th>
      <th style="text-align:left;">Default</th>
      <th style="text-align:left;">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>initialTheme</code></td>
      <td><code>string</code></td>
      <td><code>'neurons-dark'</code></td>
      <td>The initial theme key to use on mount.</td>
    </tr>
    <tr>
      <td><code>children</code></td>
      <td><code>ReactNode</code></td>
      <td>—</td>
      <td>Child components to render within the provider.</td>
    </tr>
  </tbody>
</table>

#### Context Value

<p>The provider exposes the following context values via <code>useThemeContext()</code> hook:</p>

<table>
  <thead>
    <tr>
      <th style="text-align:left;">Name</th>
      <th style="text-align:left;">Type</th>
      <th style="text-align:left;">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>themeName</code></td>
      <td><code>string</code></td>
      <td>The current active theme key.</td>
    </tr>
    <tr>
      <td><code>setThemeName</code></td>
      <td><code>function</code></td>
      <td>Set the active theme by key.</td>
    </tr>
    <tr>
      <td><code>availableThemes</code></td>
      <td><code>Array</code></td>
      <td>List of available theme metadata objects.</td>
    </tr>
    <tr>
      <td><code>toggleTheme</code></td>
      <td><code>function</code></td>
      <td>Toggle between themes or set a specific theme.</td>
    </tr>
    <tr>
      <td><code>getThemeMeta</code></td>
      <td><code>function</code></td>
      <td>Get metadata for a given theme key.</td>
    </tr>
  </tbody>
</table>

## Usage Example

```jsx
import React from 'react';
import { GuiProvider, useThemeContext } from './context/GuiProvider';

function ThemeSwitcher() {
  const { themeName, toggleTheme, availableThemes } = useThemeContext();

    <div>
      <p>Current theme: {themeName}</p>
      <button onClick={() => toggleTheme()}>Toggle Theme</button>
      <ul>
        {availableThemes.map(({ key, name }) => (
          <li key={key}>
            <button onClick={() => toggleTheme(key)}>{name}</button>
          </li>
        ))}
      </ul>
    </div>

export default function App() {
  return (
    <GuiProvider initialTheme="neurons-dark">
      <ThemeSwitcher />
      {/* Your app components here */}
    </GuiProvider>
  );
}
```

## Notes

- The `GuiProvider` component internally manages CSS variables (`--gui-inset-left`, `--gui-inset-right`, `--gui-nav-height`) to allow non-MUI components to adapt to the current layout insets.
- The theme toggle function cycles through all available themes, or can directly set a theme by its key.
- The available themes are derived from the `AVAILABLE_THEMES` array imported from the theme tokens, and include metadata such as name, mode, icon, and preview.
- Use the `useThemeContext()` hook to access theme-related state and functions within your components.
- This provider replaces the older `useThemeToggle` hook to avoid confusion and supports multi-variant theming beyond simple light/dark toggling.
